---
team: release
gpg_key: '7F438280EF8D349F'
rpm_build_host: rpm-builder.delivery.puppetlabs.net
deb_build_host: builder-deb.delivery.puppetlabs.net
osx_build_host: osx-builder.delivery.puppetlabs.net
ips_build_host: builder-ips.delivery.puppetlabs.net
dmg_path: "/opt/downloads/mac"
ips_path: "/opt/downloads/solaris"
swix_path: "/opt/downloads/eos"
msi_path: "/opt/downloads/windows"
certificate_pem: "/root/puppet_cert.pem"
privatekey_pem: "/root/signing.pem"
jenkins_build_host: jenkins-release.delivery.puppetlabs.net
jenkins_packaging_job: puppetlabs-packaging
jenkins_repo_path: "/opt/jenkins-builds"
distribution_server: builds.delivery.puppetlabs.net
builds_server: builds.delivery.puppetlabs.net
metrics_url: http://metrics.delivery.puppetlabs.net/overview/metrics
benchmark: true
staging_server: weth.delivery.puppetlabs.net
yum_host: 'yum.puppetlabs.com'
apt_host: 'apt.puppetlabs.com'
tar_host: 'downloads.puppetlabs.com'
msi_host: 'downloads.puppetlabs.com'
dmg_host: 'downloads.puppetlabs.com'
swix_host: 'downloads.puppetlabs.com'
msi_host: 'downloads.puppetlabs.com'
msi_staging_server: 'weth.delivery.puppetlabs.com'
tar_staging_server: 'weth.delivery.puppetlabs.net'
dmg_staging_server: 'weth.delivery.puppetlabs.net'
swix_staging_server: 'weth.delivery.puppetlabs.net'
msi_staging_server: 'weth.delivery.puppetlabs.net'
apt_signing_server: weth.delivery.puppetlabs.net
apt_repo_path: "/opt/repository/apt"
apt_repo_staging_path: "/opt/tools/freight/apt"
yum_staging_server: weth.delivery.puppetlabs.net
yum_repo_path: "/opt/repository/yum"
apt_repo_command: |
  keychain -k mine;
  eval $(/usr/bin/keychain -q --agents gpg --eval __GPG_KEY__);
  export GPG_TTY=$(tty);
  for dist in `ls __REPO_PATH__`; do
    sudo chmod g+w /opt/tools/aptly/db/LOG;
    aptly repo add -remove-files internal-${dist} __REPO_PATH__/${dist}
    if [ -d /opt/tools/aptly/public/__REPO_NAME__/dists/${dist} ]; then
      aptly publish update -gpg-key="__GPG_KEY__" ${dist} __REPO_NAME__
  else
      aptly publish repo -gpg-key="__GPG_KEY__" __REPO_NAME__-${dist} __REPO_NAME__
  fi
  done
  keychain -k mine;
yum_repo_command: |
  for repodir in $(find "__REPO_PATH__" -mindepth 2 -name "*.rpm" | xargs -I {} dirname {} | uniq) ; do
    [ -d "${repodir}" ] || continue;
    echo "Generating repodata for ${repodir}..."
    sudo createrepo --checksum=sha --database --update "${repodir}";
    echo "Finished generating repodata for ${repodir}..."
  done;
osx_signing_cert: "Developer ID Installer: PUPPET LABS, INC. (VKGLGN2B6Y)"
osx_signing_keychain: "/Users/jenkins/Library/Keychains/signing.keychain"
osx_signing_server: 'osx-signer.delivery.puppetlabs.net'
msi_signing_server: 'windowssigning-aio1-prod.delivery.puppetlabs.net'
internal_nexus_host: 'http://nexus.delivery.puppetlabs.net:8081/content/repositories/gems-internal'
foss_platforms:
  - cumulus-2.2-amd64
  - cisco-wrlinux-5-x86_64
  - cisco-wrlinux-7-x86_64
  - debian-7-amd64
  - debian-7-i386
  - debian-8-amd64
  - debian-8-i386
  - el-5-i386
  - el-5-x86_64
  - el-6-i386
  - el-6-x86_64
  - el-7-x86_64
  - eos-4-i386
  - fedora-f24-i386
  - fedora-f24-x86_64
  - fedora-f25-i386
  - fedora-f25-x86_64
  - huaweios-6-powerpc
  - osx-10.10-x86_64
  - osx-10.11-x86_64
  - osx-10.12-x86_64
  - sles-11-i386
  - sles-11-x86_64
  - sles-12-x86_64
  - ubuntu-14.04-amd64
  - ubuntu-14.04-i386
  - ubuntu-16.04-amd64
  - ubuntu-16.04-i386
  - ubuntu-16.10-amd64
  - ubuntu-16.10-i386
  - windows-2012-x86
  - windows-2012-x64
